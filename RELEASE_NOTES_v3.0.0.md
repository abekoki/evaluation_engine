# Release Notes - v3.0.0 🎉

**リリース日**: 2025-08-26  
**タイトル**: マークダウンレポート機能追加とバージョン管理システム改善

## 🎯 今回のリリースの概要

drowsy_detection評価エンジンのメジャーアップデートです。マークダウンレポート機能の追加により、評価結果の可視化と理解が大幅に改善されました。

## ✨ 新機能

### 📊 マークダウンレポート機能
- **自動生成される可視化レポート** (`evaluation_report.md`)
- 人間が読みやすい形式での評価結果表示
- 絵文字とカラーコードによる視覚的改善
- 詳細な統計情報とグラフ表示

**レポート内容**:
- 🎯 実行情報（日時、バージョン、コミットハッシュ）
- 📊 全体評価結果（正解率、評価ステータス）
- 📈 ビデオ別評価結果（テーブル形式）
- 📉 アルゴリズム検出統計（進捗バー付き）
- 🔍 タスク別詳細結果（予測・正解判定）

### 🔧 動的バージョニングシステム
- **コミットハッシュベースの自動バージョン生成**
- フォーマット: `{base_version}+{commit_hash[:8]}`
- 例: `0.1.1+fa5172ba`
- アルゴリズム更新の自動検出と追跡

## 🐛 修正された問題

### DataWareHouse登録の相対パス問題
- `algorithm_output_table`への登録時に正しい相対パス使用
- database.dbを基準とした相対パス管理の確立
- DataWareHouse仕様への完全準拠

## 🚀 改善・対応

### drowsy_detection v0.1.1対応
- 新しい閾値設定への対応
- 改善されたアルゴリズムロジックの活用
- より高精度な居眠り検出の実現

## 📚 ドキュメント更新

### 新規作成
- 📖 **README.md**: プロジェクト概要と使用方法
- 📝 **CHANGELOG.md**: 詳細な更新履歴
- 📋 **RELEASE_NOTES_v3.0.0.md**: このリリースノート

### 更新
- 📄 **docs/EVALUATION_SPEC.md**: マークダウンレポート機能を含む仕様書更新
- ⚙️ **pyproject.toml**: バージョン3.0.0への更新

## 🧹 クリーンアップ

検証用ファイルの削除:
- `test_datawarehouse_connection.py`
- `test_algorithm_basic.py` 
- `test_database_registration.py`
- `check_version_issue.py`
- `check_new_version.py`
- `algorithm_output_sample.csv`
- `質問リスト.md`

## 📁 最終的なプロジェクト構成

```
evaluation_engine/
├── main.py                    # 評価エンジンメイン（577行）
├── config.yaml               # 設定ファイル
├── README.md                  # プロジェクト概要
├── CHANGELOG.md               # 更新履歴
├── RELEASE_NOTES_v3.0.0.md    # このリリースノート
├── pyproject.toml             # プロジェクト設定
├── log.md                     # 実行ログ
├── core_lib_output_sample.csv # サンプルデータ
└── docs/
    └── EVALUATION_SPEC.md     # 詳細仕様書
```

## 🎉 ハイライト

### 評価結果の可視化革命
従来の機械判読用JSONに加えて、**人間が理解しやすいマークダウンレポート**が自動生成されるようになりました。

### インテリジェントなバージョン管理
アルゴリズムの更新を自動検出し、**コミットハッシュベースの動的バージョニング**により、完全なトレーサビリティを実現しました。

### DataWareHouse完全統合
相対パス問題を解決し、**DataWareHouse仕様に完全準拠**した実装になりました。

## 🔄 マイグレーション

既存環境からの移行は不要です。従来の出力（JSON、CSV）はそのまま維持されており、**マークダウンレポートが追加で生成**されます。

## 🚀 次のステップ

1. 評価エンジンを実行して新しいマークダウンレポートを確認
2. バージョン管理システムの動作確認
3. 新しいdrowsy_detection v0.1.1での評価精度検証

---

**評価エンジンがより強力で使いやすくなりました！** 🎯
